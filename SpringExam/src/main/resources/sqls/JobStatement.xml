<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.min.edu.model.mapper.JobDaoImpl">

	<select id="selAll" resultType="JobVo">
		SELECT JOB_ID ,JOB_TITLE ,MIN_SALARY ,MAX_SALARY 
			FROM JOBS j
	</select>
	
	<!-- mybatis에서 parameterType은 필요 없음. insert는 resultType 선언불가 -->
	<insert id="insertJob">
		INSERT INTO HR.JOBS
			(JOB_ID, JOB_TITLE, MIN_SALARY, MAX_SALARY)
			VALUES(#{job_id}, #{job_title}, #{min_salary}, #{max_salary})
	</insert>
	
	<!-- 같은 값을 유지시킬 수 있는 경우에 / 내가 필요한 값이 상위 코드에 있다면 트랜잭션으로 처리 -->
	<update id="updateJob">
		UPDATE HR.JOBS SET MIN_SALARY = MIN_SALARY + #{val}
			WHERE JOB_ID != #{id}
	</update>
</mapper>
